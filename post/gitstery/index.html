<!doctype html><html><head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="ie=edge">
<title>Solving A Git Murder Mystery | Samyak Sarnayak</title>
<meta name=description content="Solving A Git Murder Mystery">
<meta property="og:site_name" content="Solving A Git Murder Mystery">
<meta property="og:title" content="Samyak Sarnayak">
<meta property="og:description" content="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Venenatis urna cursus eget nunc scelerisque viverra mauris in aliquam. Quis risus sed vulputate odio ut. Sed turpis tincidunt id aliquet risus feugiat in ante metus. Bibendum at varius vel pharetra vel turpis. Semper viverra nam libero justo laoreet sit amet cursus. Mauris a diam maecenas sed enim ut sem.">
<meta property="og:image" content="https://beta.samyaks.xyz/images/mob.png">
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css integrity=sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X crossorigin=anonymous>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js integrity=sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4 crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js integrity=sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa crossorigin=anonymous onload=renderMathInElement(document.body)></script>
<meta name=keywords content="Samyak,Sarnayak,PES,Software">
<link rel=icon type=image/svg href=https://beta.samyaks.xyz/img/logo.png>
<meta name=author content="samyak_sarnayak">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=generator content="Hugo 0.88.0">
<link rel=stylesheet href=https://beta.samyaks.xyz/sass/main.min.be60df477b97258b2ddd755597c07eeb0b46ac54b978654a4eb8672fdcca574a.css type=text/css media=screen>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-2/css/all.min.css>
<link rel=stylesheet href=https://beta.samyaks.xyz/sass/custom.min.74c9a28de168313e8c63278d845d08eb405830fcc1866a9cba9728d7057c14e9.css>
</head>
<body>
<div class=line id=scrollIndicator></div>
<div class=main><div class=title>
<div class=name>
<h2><a href=https://beta.samyaks.xyz style=text-decoration:none;color:inherit>Samyak Sarnayak</a></h2>
</div>
<div class=color-scheme>
<input type=checkbox class=checkbox id=chk>
<label class=label for=chk>
<i class="fas fa-moon"></i>
<i class="fas fa-sun"></i>
<div class=ball></div>
</label>
</div>
</div>
<script>const themeSetter=a=>{document.body.classList.toggle('dark'),localStorage.setItem('theme',a),blockSwitcher()},blockSwitcher=()=>[...document.getElementsByTagName("BLOCKQUOTE")].forEach(a=>a.classList.toggle('dark')),styleSwapper=()=>{document.body.classList.add('back-transition'),localStorage.getItem('theme')==='dark'?themeSetter('light'):localStorage.getItem('theme')==='light'&&themeSetter('dark')};localStorage.getItem('theme')==='dark'?(themeSetter('dark'),document.addEventListener("DOMContentLoaded",blockSwitcher)):localStorage.setItem('theme','light'),document.getElementById('chk').addEventListener('change',styleSwapper),window.addEventListener("scroll",()=>{let a=document.documentElement.scrollHeight-document.documentElement.clientHeight;if(a>=500){let b=document.body.scrollTop||document.documentElement.scrollTop,c=b/a*100;document.getElementById("scrollIndicator").style.width=c+"%"}})</script>
<section class=intro>
<div class=post-header>
<h2 class=post-title><a class=go-back href=https://beta.samyaks.xyz/post/>
<i class="far fa-caret-square-left"></i></a> Solving A Git Murder Mystery</h2>
</div>
<p class=post-dets>Published on: March 15, 2020
| Reading Time: 9 min | Last Modified : March 15, 2020
<br>
</p>
<span class=tags>
<h5><a class=tag href=https://beta.samyaks.xyz/tags/git>git</a></h5>
</span>
<div class=content>
<p>On the night of Friday the 13th, I came across an <a href=https://github.com/nivbend/gitstery>interesting repository</a> on GitHub.
At first I did not understand what it was, after all &ldquo;gitstery&rdquo; is not a very obvious name. I read through the README
(seems like I missed the part where they say it was designed to be solved using git commands alone) and got some idea of
what it was. It seemed really interesting and I was bored, so I cloned it. There was an <code>instructions.txt</code> file which
contained&mldr;. instructions.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>A murder had been committed in Git Town!

The detective, Kyle Pumbinner, said the crime scene report is on the `gtpd-archive` branch. He
doesn&#39;t really remember the report ID... But he knows it was the first report he submitted after his
son&#39;s ninth birthday (which was Saturday, July 20th), and it was the only report he submitted that
week.

When you find a suspect, you&#39;d probably want to interview them. To do that, first find out their
address. To go to that street, look for the street&#39;s name in the repository (Hint: it&#39;s a tag). To
go to house number N on that street, go to the Nth ancestor. If you&#39;d like to inspect the
perimeters, you can look into the commit&#39;s contents - it&#39;ll contain a hash that you can view with
certain git commands.

Think you found the culprit? Check your answer with the following command:

    echo &#34;John Doe&#34; | git hash-object --stdin | grep -iq -f /dev/stdin &lt;(git show solution) &amp;&amp; echo &#39;You found the murderer!&#39; || echo &#39;No cigar, chief... Try again.&#39;

Replace John Doe with the name of the suspect that you want to check.

For an extra challenge, try and solve the mystery without ever using `git checkout`.
</code></pre></div><p><strong>Spoiler Warning</strong>: The following section contains spoilers for gitstery. I suggest you try it on your own before reading. Or you can read this as a guide.
{: .notice&ndash;warning}</p>
<p>The instructions hint that we need to check out the <code>gtpd-archive</code> branch. We can do so by using <code>git checkout gtpd-archive</code>.
It seems there is no difference between the two branches, all the files are the same.</p>
<figure><img src=/images/gitstery/gitstery-files.webp alt="Files in the gtpd-archive branch" width=100%><figcaption>
<p>Files in the gtpd-archive branch</p>
</figcaption>
</figure>
<p>So we check the logs, using <code>git log</code> and we see all the reports here. The date starts from December and, as indicated by
the instructions files, we need to find the logs which were submitted in the week after July 20th. We can search the log
by typing <code>/July</code> and pressing the <code>n</code> key to go to the next search result. There is only one report by Kyle Pumbinner in
that week.</p>
<figure><img src=/images/gitstery/gitstery-log-July-24.webp alt="Git log showing the report we need" width=100%><figcaption>
<p>Git log showing the report we need</p>
</figcaption>
</figure>
<p>Hmm, so we need to check out the <code>detectives/kpumbinner</code> branch.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git checkout detectives/kpumbinner
</code></pre></div><figure><img src=/images/gitstery/gitstery-kpumbineer-branch-files.webp alt="Files in the detectives/kpumbinner branch" width=100%><figcaption>
<p>Files in the detectives/kpumbinner branch</p>
</figcaption>
</figure>
<p>Here we have a new directory with an <code>access.log</code> inside. There are three entries of <code>BACKDOOR_332</code> here, we need to find
the names of the people who made these entries. There is an aptly named git subcommand for this, it is called <code>git blame</code>,
running <code>git blame access.log</code> will show the names of the people who made each entry in the file. At this point you could
search through this by using <code>/BACKDOOR_332</code>, but here we can use the very useful <code>grep</code> tool.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git blame access.log | grep BACKDOOR_332
</code></pre></div><figure><img src=/images/gitstery/git-blame-grep.webp alt="This gives the names of the three people who accessed the backdoor" width=100%><figcaption>
<p>This gives the names of the three people who accessed the backdoor</p>
</figcaption>
</figure>
<p>Now, we need to investigate these people. Going back to the instructions.txt, it describes the process to investigate a
person. First, we need to find the person&rsquo;s address. This is simple, we just have to search for the person&rsquo;s name in the
residents.txt file. Using cat and grep commands, we can easily get the address (or you can open the files using an editor
and search in it).</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ cat residents.txt | grep <span style=color:#e6db74>&#34;Lyndon&#34;</span>
Lyndon Huskupper        <span style=color:#ae81ff>73</span> Tamworth Drive
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ cat residents.txt | grep <span style=color:#e6db74>&#34;Cosmo&#34;</span>
Cosmo Siwkonk   <span style=color:#ae81ff>26</span> Balcombe Close
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ cat residents.txt | grep <span style=color:#e6db74>&#34;Brock Stuickard&#34;</span>
Brock Stuickard <span style=color:#ae81ff>9</span> Beaconside
</code></pre></div><p>Again going back to instructions.txt, we find a way to investigate the addresses. Now, we have to look for the street
name in git tags. <code>git tag -l</code> lists all the tags, then we use grep to get the required tags.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git tag -l | grep <span style=color:#e6db74>&#34;tamworth&#34;</span>
street/tamworth_drive
$ git tag -l | grep <span style=color:#e6db74>&#34;balcombe&#34;</span>
street/balcombe_close
$ git tag -l | grep <span style=color:#e6db74>&#34;beaconside&#34;</span>
street/beaconside
</code></pre></div><p>Now we are ready to investigate the addresses. To visit the address, we checkout that tag and inspect the files there.
Checking out tags is as simple as <code>git checkout &lt;tag name></code>, for example <code>git checkout street/tamworth_drive</code>. We see
a new file here named <code>investigate</code> which contains some random letters. According to instructions.txt, this is a hash.
We haven&rsquo;t reached the house number yet, so let&rsquo;s do that. With the hint from instructions.txt, we look at the logs.
The contents have the house number, street name and the investigation report/conversation. We can search for <code>/73 </code>
(notice the space after 73, this is because the commit hashes can also contain the number 73) and get the investigation
result.</p>
<pre tabindex=0><code>commit f8a5b218b1eaee3b111ae5ef536f919e8d3afca2
Author: Dolores Wholfump &lt;mayor@gittown.gov&gt;
Date:   Tue Jan 1 00:00:00 2019 +0000

    73 Tamworth Drive
    
    No one's home...
    
    Maybe take a look around the perimeter?
</code></pre><p>How do we look around? That&rsquo;s easy, we simply checkout that commit and take a look at the files. To checkout to a
specific commit, copy the commit hash and do <code>git checkout &lt;commit hash here></code> like <code>git checkout f8a5b218b1eaee3b111ae5ef536f919e8d3afca2</code>.
We can see that the <code>investigate</code> file has changed, so we need to somehow get the actual contents of it. For that,
we use a git subcommand called <code>cat-file</code> can be used, this subcommand is used to find information about repository
objects (which are hashed). <code>git cat-file -t</code> is used to get the object&rsquo;s type (in this case, it is a blob which is
a general type for files in git) and <code>git cat-file -p</code> is used to print the object&rsquo;s content.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ cat investigate 
22f733298423b814f1da31bee3e0063c72ed6e71
$ git cat-file -p 22f733298423b814f1da31bee3e0063c72ed6e71
<span style=color:#e6db74>&#34;There&#39;s no one answering the door. Obviously you won&#39;t break in because you don&#39;t have a warrant or
</span><span style=color:#e6db74>anything. But nothing&#39;s wrong with looking around the place...
</span><span style=color:#e6db74>
</span><span style=color:#e6db74>You check around the house, there&#39;s no car. Not even a driveway. You do find a bike resting against
</span><span style=color:#e6db74>the fence. It&#39;s pretty close to the factory, so makes sense the suspect bikes to work.
</span><span style=color:#e6db74>
</span><span style=color:#e6db74>Just to make sure, you ask some of the neighbors, they confirm that the suspect doesn&#39;t own a car.
</span><span style=color:#e6db74>One of them says he doesn&#39;t even have a license.
</span><span style=color:#e6db74>
</span><span style=color:#e6db74>Another neighbor says he saw the suspect coming back from work on the day of the murder at about
</span><span style=color:#e6db74>5PM, they chatted for a bit before his sister picked him up to visit their parents. They live pretty
</span><span style=color:#e6db74>far away, so that places him away from Git Town at the time of the murder.&#34;</span>
</code></pre></div><p>Hmm, looks like this one is not our culprit. (They seem to emphasize having a car a lot for some reason&mldr;).
We can now look at the other suspects.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git checkout street/balcombe_close
$ git log | grep -5 <span style=color:#e6db74>&#34;26 &#34;</span>
commit bc6870d8093a33d9a69acc94a1cda16ee2d7195d
Author: Dolores Wholfump &lt;mayor@gittown.gov&gt;
Date:   Tue Jan <span style=color:#ae81ff>1</span> 00:00:00 <span style=color:#ae81ff>2019</span> +0000
<span style=color:#e6db74>&#34;
</span><span style=color:#e6db74>    26 Balcombe Close
</span><span style=color:#e6db74>    
</span><span style=color:#e6db74>    No one&#39;s home...
</span><span style=color:#e6db74>    
</span><span style=color:#e6db74>    You can take a look around though.
</span><span style=color:#e6db74>&#34;</span>
$ git checkout bc6870d8093a33d9a69acc94a1cda16ee2d7195d
HEAD is now at bc6870d <span style=color:#ae81ff>26</span> Balcombe Close
$ cat investigate 
c8411c73e49372dbdb644beef2ea841b403fc476
$ git cat-file -p c8411c73e49372dbdb644beef2ea841b403fc476 
<span style=color:#e6db74>&#34;Nobody&#39;s home. From the stack of letters in the mailbox nobody&#39;s been here for a good few days.
</span><span style=color:#e6db74>
</span><span style=color:#e6db74>Without a warrant you can&#39;t get into the house, but you can still checkout the area. Maybe talk with
</span><span style=color:#e6db74>some of the neighbors.
</span><span style=color:#e6db74>
</span><span style=color:#e6db74>The guy next door says he barely ever spoke to the suspect, &#34;</span>was a bit of a loner<span style=color:#e6db74>&#34; is what he says.
</span><span style=color:#e6db74>Doesn&#39;t know what type of vehicle he drives.
</span><span style=color:#e6db74>
</span><span style=color:#e6db74>You take a stroll around the house, there&#39;s a back porch that probably seen better days. You spot a
</span><span style=color:#e6db74>driveway next to it leading to a garage. The door&#39;s open and you see a green Hyundai parked there.&#34;</span>
</code></pre></div><p>Hmm. Strange. Now onto the third suspect.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git checkout street/beaconside
HEAD is now at 5e37024 Beaconside
$ git log | grep -B <span style=color:#ae81ff>4</span> -A <span style=color:#ae81ff>21</span> <span style=color:#e6db74>&#34; 9 &#34;</span>
commit 92f6e05c6aa06c791f402d7e19649fa1f0ec76c6
Author: Dolores Wholfump &lt;mayor@gittown.gov&gt;
Date:   Tue Jan <span style=color:#ae81ff>1</span> 00:00:00 <span style=color:#ae81ff>2019</span> +0000
<span style=color:#e6db74>&#34;
</span><span style=color:#e6db74>    9 Beaconside
</span><span style=color:#e6db74>    
</span><span style=color:#e6db74>    Yeah, of course I used the backdoor to the factory, that&#39;s the closest entrance to the freezer and I
</span><span style=color:#e6db74>    brought in some ingrediants that can&#39;t really stand the heat.
</span><span style=color:#e6db74>    
</span><span style=color:#e6db74>    At the time of the murder I was at a block party right down the street from here, we threw the party
</span><span style=color:#e6db74>    for one of the neighbors who got back from the hospital after an accident. I was with my kids. You
</span><span style=color:#e6db74>    can ask anyone who&#39;s been there.
</span><span style=color:#e6db74>    
</span><span style=color:#e6db74>    Oh wait, you know what? We took a picture... Let me get my phone.
</span><span style=color:#e6db74>    
</span><span style=color:#e6db74>    See? That&#39;s me, that&#39;s the neighbor, here&#39;s my little girl. And you see the timestamp?
</span><span style=color:#e6db74>    
</span><span style=color:#e6db74>    So yeah, I really don&#39;t have anything to do with that... Barely knew the victim...
</span><span style=color:#e6db74>    
</span><span style=color:#e6db74>    But you know what? I did see someone rushing out of the factory... He got into a green Hyundai, you
</span><span style=color:#e6db74>    don&#39;t see many of those around here... Probably a rental. I didn&#39;t catch his face, was just weird
</span><span style=color:#e6db74>    seeing someone running off like that... Come to think about it, maybe that person had something to
</span><span style=color:#e6db74>    do with it?
</span><span style=color:#e6db74>    
</span><span style=color:#e6db74>    Anyways, best of luck catching whoever did it!
</span><span style=color:#e6db74>&#34;</span>
$ git checkout 92f6e05c6aa06c791f402d7e19649fa1f0ec76c6
Previous HEAD position was 5e37024 Beaconside
HEAD is now at 92f6e05 <span style=color:#ae81ff>9</span> Beaconside
$ cat investigate
d1278ebc164050fe1e5526fbba6a8cfbe763f1d2
$ git cat-file -p d1278ebc164050fe1e5526fbba6a8cfbe763f1d2
You ask around with the neighbors, just to make sure. Everyone you ask verify that suspect<span style=color:#960050;background-color:#1e0010>&#39;</span>s alibi.
</code></pre></div><p>Aha, we have a new lead. The culprit has a green Hyundai. As we saw before, the second suspect has a
green Hyundai. That suspect&rsquo;s name is Cosmo Siwkonk. We can now verify if we have solved the case by
using the command given in instructions.txt.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ echo <span style=color:#e6db74>&#34;Cosmo Siwkonk&#34;</span> | git hash-object --stdin | grep -iq -f /dev/stdin &lt;<span style=color:#f92672>(</span>git show solution<span style=color:#f92672>)</span> <span style=color:#f92672>&amp;&amp;</span> echo <span style=color:#e6db74>&#39;You found the murderer!&#39;</span> <span style=color:#f92672>||</span> echo <span style=color:#e6db74>&#39;No cigar, chief... Try again.&#39;</span>
You found the murderer!
</code></pre></div>
<div class=video-container style="padding:0% 10%">
<video autoplay loop=loop preload=auto style=width:100%>
<source src=/images/yes-yes-yes.mp4 type=video/mp4>
</video>
</div>
<p>We solved the case!</p>
<p>Well, that was fun. Checkout the repository <a href=https://github.com/nivbend/gitstery>here</a>.
Give a thumbs up if this was helpful and/or interesting.</p>
</div>
</section>
<footer id=footer>
<strong></strong>
<div class=social>
&nbsp; <a href=https://github.com/Samyak2 target=_blank rel=noopener title=Github><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a> &nbsp;&nbsp; <a href=mailto:samyak201@gmail.com target=_blank rel=noopener title=Email><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a> &nbsp;&nbsp; <a href=https://twitter.com/Samyak210 target=_blank rel=noopener title=Twitter><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a> &nbsp;&nbsp; <a href=https://www.linkedin.com/in/samyaks target=_blank rel=noopener title=Linkedin><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></a> &nbsp;
</div><strong></strong>
<p style=color:grey>© 2021 Samyak Sarnayak. <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>Some rights reserved</a>.</p>
</footer>
</div>
</body>
</html>